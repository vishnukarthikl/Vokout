<div ng-controller="SetupCtrl">
  <div class="progress row">
    <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" ng-style="progressStyle">
    </div>
  </div>

  <div ng-switch on="status">
    <div class="row" ng-switch-when="facility">
      <form class="form-horizontal">
        <fieldset>
          <!-- Form Name -->
          <legend>Initial Setup</legend>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="facilityName">Facility Name</label>

            <div class="col-md-4">
              <input id="facilityName" ng-model="newFacility.name" name="facilityName" type="text" class="form-control input-md">

            </div>
          </div>

          <!-- Textarea -->
          <div class="form-group">
            <label class="col-md-4 control-label" for="facilityAddress">Address</label>

            <div class="col-md-4">
              <textarea class="form-control" ng-model="newFacility.address" id="facilityAddress" name="facilityAddress"></textarea>
            </div>
          </div>

          <!-- Prepended text-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="facilityPhone">Phone number</label>

            <div class="col-md-4">
              <div class="input-group">
                <span class="input-group-addon">+91</span>
                <input id="facilityPhone" ng-model="newFacility.phone" name="facilityPhone" class="form-control" type="text">
              </div>

            </div>
          </div>

          <br/>
          <!-- Button (Double) -->
          <div class="form-group">
            <label class="col-md-4 control-label" for="facilitySave"></label>

            <div class="col-md-6 col-md-offset-4">
              <button id="facilitySave" ng-click="saveFacility()" name="facilitySave" class="btn btn-success col-md-3">Save</button>
            </div>
          </div>

        </fieldset>
      </form>
    </div>

    <div class="row" ng-switch-when="membership">
      <form class="row form-horizontal">
        <fieldset>

          <!-- Form Name -->
          <legend>Membership</legend>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="newMembershipName">Name</label>

            <div class="col-md-3">
              <input id="newMembershipName" ng-model="newMembership.name" name="newMembershipName" type="text" placeholder="eg monthly" class="form-control input-md" ng-minlength="2">

            </div>
          </div>

          <!-- Appended Input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="newMembershipDuration">Duration</label>

            <div class="col-md-2">
              <div class="input-group">
                <input id="newMembershipDuration" ng-model="newMembership.duration" name="newMembershipDuration" class="form-control" placeholder="" type="text" ng-minlength="1">
                <span class="input-group-addon">months</span>
              </div>

            </div>
          </div>
          <!-- Prepended text-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="newMembershipCost">Cost</label>

            <div class="col-md-2">
              <div class="input-group">
                <span class="input-group-addon">â‚¹</span>
                <input id="newMembershipCost" ng-model="newMembership.cost" name="newMembershipCost" class="form-control" placeholder="" type="text" ng-minlength="2">
              </div>

            </div>
          </div>

          <br/>
          <!-- Button (Double) -->
          <div class="form-group">
            <label class="col-md-4 control-label" for="facilitySave"></label>

            <div class="col-md-6 col-md-offset-4">
              <button id="membershipSave" ng-click="saveMembership()" name="MembershipSave" class="btn btn-success btn-primary col-md-3">Save</button>
              <button id="memberSetupButton" ng-click="setupMember()" ng-show="facility.memberships.length > 0" name="memberSetupButton" class="btn btn-primary col-md-3 col-md-offset-1">Next</button>
            </div>
          </div>

        </fieldset>
        <div ng-show="newMembershipStatus" class="alert alert-success alert-dismissible center col-md-6 col-md-offset-3">{{newMembershipStatus}}</div>
      </form>

      <br/>

      <div class="row panel panel-default" ng-show="facility.memberships.length > 0">
        <div class="panel-heading">List of all memberships added</div>

        <table class="table table-bordered">
          <thead>
          <tr>
            <th>Name</th>
            <th>Duration</th>
            <th>Cost</th>
          </tr>
          </thead>

          <tbody>
          <tr ng-repeat="membership in facility.memberships">
            <td>{{membership.name}}</td>
            <td>{{membership.duration}}</td>
            <td>{{membership.cost}}</td>
          </tr>
          </tbody>
        </table>

      </div>
    </div>

    <div class="row" ng-switch-when="member">
      <form class="row form-horizontal">
        <fieldset>

          <!-- Form Name -->
          <legend>Add Members</legend>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="memberName">Name</label>

            <div class="col-md-4">
              <input id="memberName" ng-model="newMember.name" name="memberName" type="text" placeholder="" class="form-control input-md">

            </div>
          </div>

          <div class="form-group">
            <label class="col-md-4 control-label" for="memberMembership">Membership</label>

            <div class="col-md-4">
              <select ng-model="newMember.subscription.membership_id" id="memberMembership" name="memberMembership" class="form-control"
                      ng-options="membership.id as membership.name for membership in facility.memberships">
              </select>
            </div>
          </div>

          <div class="form-group">
            <label class="col-md-4 control-label" for="memberMembershipDate">Membership start date</label>

            <div class="col-md-4">
              <input id="memberMembershipDate" ng-model="newMember.subscription.start_date" name="memberMembershipDate" class="form-control" placeholder="dd/mm/yyyy" type="text">
            </div>
          </div>

          <!-- Prepended text-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="memberPhone">Phone</label>

            <div class="col-md-4">
              <div class="input-group">
                <span class="input-group-addon">+91</span>
                <input id="memberPhone" ng-model="newMember.phone_number" name="memberPhone" class="form-control" placeholder="" type="text">
              </div>

            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="memberEmail">E mail</label>

            <div class="col-md-4">
              <input id="memberEmail" ng-model="newMember.email" name="memberEmail" type="text" placeholder="" class="form-control input-md">

            </div>
          </div>

          <!-- Select Basic -->
          <div class="form-group">
            <label class="col-md-4 control-label" for="memberSex">Sex</label>

            <div class="col-md-2">
              <select id="memberSex" ng-model="newMember.is_male" name="memberSex" class="form-control">
                <option value="true">Male</option>
                <option value="false">Female</option>
              </select>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="memberDob">Date of Birth</label>

            <div class="col-md-4">
              <input id="memberDob" ng-model="newMember.date_of_birth" name="memberDob" type="text" placeholder="dd/mm/yyyy" class="form-control input-md">

            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="memberOccupation">Occupation</label>

            <div class="col-md-4">
              <input id="memberOccupation" ng-model="newMember.occupation" name="memberOccupation" type="text" placeholder="" class="form-control input-md">

            </div>
          </div>

          <!-- Textarea -->
          <div class="form-group">
            <label class="col-md-4 control-label" for="memberAddress">Address</label>

            <div class="col-md-4">
              <textarea class="form-control" id="memberAddress" ng-model="newMember.address" name="memberAddress"></textarea>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="memberPincode">Pincode</label>

            <div class="col-md-4">
              <input id="memberPincode" ng-model="newMember.pincode" name="memberPincode" type="text" placeholder="" class="form-control input-md">

            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="memberEmergencyNumber">Emergency Contact Phone</label>

            <div class="col-md-4">
              <input id="memberEmergencyNumber" ng-model="newMember.emergency_number" name="memberEmergencyNumber" type="text" placeholder="" class="form-control input-md">

            </div>
          </div>
          <br/>
          <!-- Button (Double) -->
          <div class="form-group">

            <div class="col-md-8 col-md-offset-2">
              <button id="setupMembershipBack" ng-click="setupMembership()" name="setupMembershipBack" class="btn btn-default col-md-2 col-md-offset-1">Membership</button>
              <button id="savememberButton" ng-click="saveMember()" name="saveMemberButton" class="btn btn-success col-md-2 col-md-offset-1">Save</button>
              <a id="skipMemberButton" href="/" name="skipMemberButton" class="btn btn-primary col-md-2 col-md-offset-1">Add
                Later
              </a>
            </div>
          </div>

        </fieldset>

        <div ng-show="newMemberStatus" class="row alert alert-success col-md-6 col-md-offset-3 center">{{newMemberStatus}}</div>

      </form>
      <br/>


      <div class="row panel panel-default" ng-show="facility.members.length > 0">
        <div class="panel-heading">List of all members</div>

        <table class="table table-bordered">
          <thead>
          <tr>
            <th>Name</th>
            <th>Phone no</th>
            <th>Subscription</th>
            <th>Days left for renewal</th>
          </tr>
          </thead>

          <tbody>
          <tr ng-repeat="member in facility.members">
            <td>{{member.name}}</td>
            <td>{{member.phone_number}}</td>
            <td>{{member.subscriptions[0].membership.name}}</td>
            <td>{{member.subscriptions[0].days_left}}</td>
          </tr>
          </tbody>
        </table>

      </div>
    </div>

  </div>
</div>

</div>